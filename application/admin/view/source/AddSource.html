{layout name="public:layout" /}

<div class="page-content">
    <!-- Page Breadcrumb -->
    <div class="page-breadcrumbs">
        <ul class="breadcrumb">
            <li>
                <a href="{:url('site/index')}" style="color: #33414E;text-decoration: none">系统</a>
            </li>
            <li>
                <a href="{:url('source/sourcelist')}" style="color: #33414E;text-decoration: none">资源管理</a>
            </li>
            <li class="active">添加资源</li>
        </ul>
    </div>
    <!-- /Page Breadcrumb -->
    <!-- Page Body -->
    <div class="page-body">
        <div class="row" style="background-color: white;margin:-10px 5px 0px 5px;box-shadow: 3px 3px 2px #888888;">
            <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                <div class="flip-scroll container">
                    <div class="row" style="margin-top: 20px;">
                        <h4 class="text-right text-success">添加资源</h4>
                        <hr style="height:1px;border:none;border-top:1px solid #555555;"/>
                    </div>
                    <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3"></div>
                    <div class="col-lg-6 col-sm-6 col-xs-6 col-md-6">
                        <form method="post" id="login" action="{:url('admin/Source/insert')}"
                              enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="name" class="control-label">文件名</label>
                                <input type="text" name="name" class="form-control" id="name" placeholder="文件名">
                            </div>
                            <div class="form-group">
                                <label class="control-label">类别</label>
                                <select name="cid" id="" class="form-control">
                                    {volist name="ClassList" id="class"}
                                    <option value="{$class.id}">{$class.name}</option>
                                    {/volist}
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="path" class="control-label">文件</label>
                                <input type="file" name="path" class="form-control" id="path" placeholder="文件路径">
                                <p>（仅允许添加后缀名为rar,zip,pdf,doc,docx,ppt,pptx的文件）</p>
                            </div>
                            <div class="form-group">
                                <label for="image" class="control-label">文件图片</label>
                                <input type="file" name="image" class="form-control" id="image" placeholder="图片路径">
                                <p>（仅允许添加后缀名为jpg,jpeg,png的文件）</p>
                            </div>
                            <div class="form-group">
                                <label class="control-label">文件描述</label>
                                <textarea name="description" class="form-control" style="height: 150px;"></textarea>

                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary" id="submit" onclick="Check()">添加</button>
                            </div>
                        </form>
                    </div>
                    <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function Check() {
        if (document.getElementById("name").value == "") {
            alert('文件名不能为空!');
            return false;
        }
        if (document.getElementById("path").value == "") {
            alert('文件路径不能为空!');
            return false;
        }
        if (document.getElementById("image").value == "") {
            alert('图片路径不能为空!');
            return false;
        }
        if (document.getElementById("description").value == "") {
            alert('文件描述不能为空!');
            return false;
        }
        return true;
    }

</script>
