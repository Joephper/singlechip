{layout name="public:layout" /}

<div class="page-content">
    <!-- Page Breadcrumb -->
    <div class="page-breadcrumbs">
        <ul class="breadcrumb">
            <li>
                <a href="{:url('site/index')}" style="color: #33414E;text-decoration: none">系统</a>
            </li>
            <li>
                <a href="{:url('source/sourcelist')}" style="color: #33414E;text-decoration: none">资源管理</a>
            </li>
            <li class="active">编辑视频</li>
        </ul>
    </div>
    <!-- /Page Breadcrumb -->
    <!-- Page Body -->
    <div class="page-body">
        <div class="row" style="background-color: white;margin:-10px 5px 0px 5px;box-shadow: 3px 3px 2px #888888;">
            <div class="col-lg-12 col-sm-12 col-xs-12 col-md-12">
                <div class="flip-scroll container">
                    <div class="row" style="margin-top: 20px;">
                        <h4 class="text-right text-success">编辑资源</h4>
                        <hr style="height:1px;border:none;border-top:1px solid #555555;"/>
                    </div>
                    <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3"></div>
                    <div class="col-lg-6 col-sm-6 col-xs-6 col-md-6">
                        <form class="form-horizontal" action="{:url('source/saveSource')}" method="post"
                              enctype="multipart/form-data">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">文件名</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" name="name" id="name" value="{$sourceInfo.name}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">类别</label>
                                <div class="col-sm-10">
                                    <select name="cid" id="" class="form-control">
                                        {volist name="ClassList" id="class"}
                                        <option value="{$class.id}"
                                                {if $class.id == $sourceInfo.cid }
                                                selected='selected'
                                                {/if}
                                        >{$class.name}</option>
                                        {/volist}
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label">文件路径</label>
                                <div class="col-sm-10">
                                    <input type="file" name="path" class="form-control" id="path" placeholder="文件路径">
                                    <p>（仅允许添加后缀名为avi,wmv,mpeg,mp4,mov的文件）</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">文件图片</label>
                                <div class="col-sm-10">
                                    <img src="/images/{$sourceInfo.image}" width="80" height="60"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">图片路径</label>
                                <div class="col-sm-10">
                                    <input type="file" name="image" class="form-control" id="image" placeholder="图片路径">
                                    <p>（仅允许添加后缀名为jpg,jpeg,png的文件）</p>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">文件描述</label>
                                <div class="col-sm-10">
                                    <textarea name="description" class="form-control" id="description" style="height: 150px;">{$sourceInfo.description}</textarea>
                                </div>
                            </div>
                            <input type="hidden" name="id" value="{$sourceInfo.id}">
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-info" onclick="Check()"><i
                                            class="glyphicon glyphicon-ok"></i>保存
                                    </button>
                                    <a href="{:url('source/sourcelist')}"
                                       class="btn btn-danger btn-sm shiny">
                                        <i class="glyphicon glyphicon-remove"></i> 取消
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-lg-3 col-sm-3 col-xs-3 col-md-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function Check() {
        if (document.getElementById("name").value == "") {
            alert('文件名不能为空!');
            return false;
        }
        if (document.getElementById("path").value == "") {
            alert('文件路径不能为空!');
            return false;
        }
        if (document.getElementById("image").value == "") {
            alert('图片路径不能为空!');
            return false;
        }
        if (document.getElementById("description").value == "") {
            alert('文件描述不能为空!');
            return false;
        }
        return true;
    }

</script>
